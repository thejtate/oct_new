<?php

/**
 * @file
 * Store amount handler.
 */

class views_handler_field_fnl_store_amount extends views_handler_field {

  function render($values) {
    $value = $this->get_value($values);
    if(empty($this->options['show_as_clean_number'])) {
      return fnl_store_format_amount($value);
    } else {
      return $value;
    }
  }

  function options_form(&$form, &$form_state) {
    parent::options_form(
      $form,
      $form_state
    ); // TODO: Change the autogenerated stub

    $form['show_as_clean_number'] = array(
      '#type' => 'checkbox',
      '#title' => t('Output as clean number'),
      '#default_value' => $this->options['show_as_clean_number'],
      '#description' => t('Show without currency symbol'),
      '#weight' => 98,
    );
  }


  function option_definition() {
    $options = parent::option_definition();
    $options['show_as_clean_number'] = array('default' => '');

    return $options;
  }


}